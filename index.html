<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Bar Management</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
            background: linear-gradient(135deg, #ff4e50, #f9d423);
        }

        .container {
            width: 100%;
            max-width: 480px;
            margin: 20px auto;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            padding: 20px;
            box-sizing: border-box;
        }

        h1 {
            text-align: center;
            font-size: 32px;
            margin-bottom: 20px;
            color: #ff4e50;
            text-transform: uppercase;
        }

        .item, .form-group {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 10px 15px;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .wellness, .city-tax {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
        }

        .beer {
            background: linear-gradient(135deg, #f3a683, #f7d794);
        }

        .cocktail {
            background: linear-gradient(135deg, #786fa6, #a29bfe);
        }

        .softdrink {
            background: linear-gradient(135deg, #63cdda, #81ecec);
        }

        .utility {
            background: linear-gradient(135deg, #fdcb6e, #ffeaa7);
        }

        .default {
            background: linear-gradient(135deg, #bdc3c7, #2c3e50);
        }

        .item-icon {
            font-size: 28px;
            color: #fff;
        }

        .item-name {
            flex: 1;
            margin-left: 15px;
            font-size: 18px;
            font-weight: bold;
            color: #fff;
        }

        .item-input {
            width: 80px;
            font-size: 16px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 8px;
            text-align: center;
        }

        button {
            display: block;
            width: 100%;
            max-width: 320px;
            margin: 20px auto;
            padding: 15px;
            background: linear-gradient(135deg, #3498db, #2ecc71);
            color: white;
            font-size: 18px;
            font-weight: bold;
            text-transform: uppercase;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        button:hover {
            background: linear-gradient(135deg, #2980b9, #27ae60);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Mini Bar Management</h1>
        <!-- V√Ωbƒõr vily -->
        <div class="form-group wellness">
            <div class="item-icon">üè°</div>
            <label for="vila" class="item-name">V√Ωbƒõr vily:</label>
            <select id="vila" class="item-input">
                <option value="ohyeah">Oh Yeah Villa</option>
                <option value="castle">The Little Castle</option>
                <option value="pool">Amazing Pool</option>
            </select>
        </div>

        <!-- Wellness -->
        <div class="form-group wellness">
            <div class="item-icon">üõÅ</div>
            <label for="wellness" class="item-name">Wellness (‚Ç¨):</label>
            <input type="number" id="wellness" placeholder="Zadejte ƒç√°stku" min="0" class="item-input">
        </div>

        <!-- Mƒõstsk√° da≈à -->
        <div class="form-group city-tax">
            <div class="item-icon">üåÜ</div>
            <label for="guests" class="item-name">Poƒçet host≈Ø:</label>
            <input type="number" id="guests" placeholder="Zadejte poƒçet" min="0" class="item-input">
        </div>
        <div class="form-group city-tax">
            <div class="item-icon">üõèÔ∏è</div>
            <label for="nights" class="item-name">Poƒçet noc√≠:</label>
            <input type="number" id="nights" placeholder="Zadejte poƒçet" min="0" class="item-input">
        </div>

        <!-- Polo≈æky skladu -->
        <div id="items"></div>
        <button onclick="generateInvoice()">Generovat fakturu</button>
        <button onclick="window.location.href='sklad.html'">P≈ôej√≠t do skladu</button>

        <!-- Faktura -->
        <div id="invoice" class="invoice" style="display: none;">
            <h2>Faktura</h2>
            <div id="invoice-details"></div>
            <div id="invoice-total"></div>
        </div>
    </div>

    <script>
        const sklad = JSON.parse(localStorage.getItem("sklad")) || {
            "Budvar": 50,
            "Malibu": 48,
            "Jack s colou": 50,
            "Moscow Mule": 30,
            "Gin-Tonic": 50,
            "Mojito": 30,
            "Coca-Cola": 100,
            "Sprite": 100,
            "Red Bull": 100,
            "Prosecco": 20,
            "Pivo sud 30 l": 10,
            "Pivo sud 50 l": 5,
            "Plyn": 12,
            "Gril": 20
        };

        const icons = {
            "Budvar": "üç∫",
            "Malibu": "üçπ",
            "Jack s colou": "ü•É",
            "Moscow Mule": "üç∏",
            "Gin-Tonic": "üç∏",
            "Mojito": "üçπ",
            "Coca-Cola": "ü•§",
            "Sprite": "ü•§",
            "Red Bull": "ü™Ω",
            "Prosecco": "üçæ",
            "Pivo sud 30 l": "üç∫",
            "Pivo sud 50 l": "üç∫",
            "Plyn": "üî•",
            "Gril": "üçñ"
        };

        const categories = {
            "Budvar": "beer",
            "Pivo sud 30 l": "beer",
            "Pivo sud 50 l": "beer",
            "Malibu": "cocktail",
            "Jack s colou": "cocktail",
            "Moscow Mule": "cocktail",
            "Gin-Tonic": "cocktail",
            "Mojito": "cocktail",
            "Prosecco": "cocktail",
            "Coca-Cola": "softdrink",
            "Sprite": "softdrink",
            "Red Bull": "softdrink",
            "Plyn": "utility",
            "Gril": "utility"
        };

        function loadItems() {
            const container = document.getElementById("items");
            container.innerHTML = "";
            Object.keys(sklad).forEach(itemName => {
                const item = document.createElement("div");
                item.classList.add("item");
                item.classList.add(categories[itemName] || "default");

                const icon = document.createElement("div");
                icon.classList.add("item-icon");
                icon.textContent = icons[itemName] || "üì¶";

                const name = document.createElement("div");
                name.classList.add("item-name");
                name.textContent = `${itemName} (${sklad[itemName]} ks skladem)`;

                const input = document.createElement("input");
                input.type = "number";
                input.min = "0";
                input.placeholder = "Zadejte poƒçet";
                input.classList.add("item-input");
                input.id = `${itemName}-count`;

                item.appendChild(icon);
                item.appendChild(name);
                item.appendChild(input);

                container.appendChild(item);
            });
        }

        function generateInvoice() {
            const vila = document.getElementById("vila").value;
            const wellness = parseFloat(document.getElementById("wellness").value) || 0;
            const guests = parseInt(document.getElementById("guests").value) || 0;
            const nights = parseInt(document.getElementById("nights").value) || 0;

            let details = "";
            let total = 0;

            // Wellness
            details += `<p>Wellness: ‚Ç¨${wellness.toFixed(2)}</p>`;
            total += wellness;

            // City Tax
            const cityTax = guests * nights * 2; // 2 ‚Ç¨ za osobu a noc
            details += `<p>City Tax: ‚Ç¨${cityTax.toFixed(2)}</p>`;
            total += cityTax;

            // Polo≈æky skladu
            Object.keys(sklad).forEach(itemName => {
                const input = document.getElementById(`${itemName}-count`);
                const count = parseInt(input.value) || 0;
                if (count > 0) {
                    sklad[itemName] = Math.max(0, sklad[itemName] - count);
                    const price = count * 10; // P≈ô√≠klad ceny: 10 ‚Ç¨ za kus
                    details += `<p>${count}x ${itemName}: ‚Ç¨${price.toFixed(2)}</p>`;
                    total += price;
                }
            });

            localStorage.setItem("sklad", JSON.stringify(sklad));
            document.getElementById("invoice-details").innerHTML = details;
            document.getElementById("invoice-total").innerHTML = `<h3>Celkem: ‚Ç¨${total.toFixed(2)}</h3>`;
            document.getElementById("invoice").style.display = "block";
        }

        window.onload = loadItems;
    </script>
</body>
</html>